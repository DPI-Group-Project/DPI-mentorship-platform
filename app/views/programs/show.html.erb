<div class="hero-image">
  <%= image_tag @program.banner_image, class:"hero-image" if @program.banner_image.attached?%>
  <div class="hero-text">
    <h1><%= @program.name%></h1>
  </div>
</div>

<div class="container">
  <p><strong>About the program:</strong></p>
  <p><%= @program.description %></p>
  <%= link_to "Edit this program", edit_program_path(@program) %> |
  <%= link_to "Back to programs", programs_path %> |
  <%= link_to "Join this program", new_participation_path(program_id: @program.id) %>

  <%= button_to "Destroy this program", @program, method: :delete %>

  <div class="container mt-3">
    <h3>Mentors</h3>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3">
      <% @mentors.each do |mentor| %>
        <div class="col mb-4">
          <%= render partial: "participations/participation", locals: { participation: mentor, id: mentor.id } %>
        </div>
      <% end %>
    </div>
  </div>

  <div class="container mt-3">
    <h3>Mentees</h3>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3">
      <% @mentees.each do |mentee| %>
        <div class="col mb-4">
          <%= render partial: "participations/participation", locals: { participation: mentee, id: mentee.id } %>
        </div>
      <% end %>
    </div>
  </div>
</div>

<!-- leaving some weird white space unless I set html height:100% or body height:100vh -->
<% if @participation&.mentee? %>
<div class="sticky-bottom bg-body-secondary">
  <div class="container">
    <%if @participation.rankings.count == 0 %>
      <%= form_tag program_create_rankings_path(@program), class: "d-flex flex-row justify-content-around py-3", method: :post do %>
        <div id="rankings" class= "d-flex">
          <%= render partial: "rankings/rankings_field", locals: { rankings: @rankings, program: @program }%>
        </div>
        <%= submit_tag 'Submit Rankings' %>
      <% end %>
    <% else %>
      <%= form_tag program_update_rankings_path(@program), class: "d-flex flex-row justify-content-around py-3", method: :post do %>
        <div id="rankings" class= "d-flex">
          <%= render partial: "rankings/rankings_field", locals: { rankings: @rankings, program: @program }%>
        </div>
        <%= submit_tag 'Submit Rankings' %>
      <% end %>
    <% end %>
  </div>
</div>
<% end %>
